<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Catalog valonti</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Основные стили -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

    <section class="">
    <div class="">
    </div>
    </section>

    <section class="">
        <div class="">
        </div>
    </section>

    <section class="section__utp">
        
        <div class="container__utp">

            <div class="utp__div">
                <img class="utp__img" src="https://raw.githubusercontent.com/weareneture/valonti/refs/heads/main/catalog/item%20page/utp%20img/agisum_utp1.png" alt="Agisum нитрид титана">
                <div class="utp__text">
                    <p class="utp__heading">Нитрид титана</p>
                    <p class="utp__description">Скульптурная основа с&nbsp;выразочным вертикальным ритмом. Металл&nbsp;с&nbsp;покрытием из&nbsp;нитрида титана даёт глубокий благородный блеск и&nbsp;подчёркивает статус предмета.</p>
                </div>
            </div>

            <div class="utp__div">
                <img class="utp__img" src="https://raw.githubusercontent.com/weareneture/valonti/refs/heads/main/catalog/item%20page/utp%20img/agisum_utp2.png" alt="Agisum агломерат">
                <div class="utp__text">
                    <p class="utp__heading">Агломерат</p>
                    <p class="utp__description">Ультра-прочная поверхность с&nbsp;эстетикой натурального камня. Чёткие&nbsp;прожилки, идеальная гладкость и&nbsp;высокая износостойкость&nbsp;&mdash; материал создан для долгой безупречной службы.</p>
                </div>
            </div>

        </div>

    </section>

    <section class="compare">
        <div class="compare__wrapper" data-compare>
            <div class="compare__image compare__image--before">
                <img src="https://raw.githubusercontent.com/weareneture/valonti/refs/heads/main/catalog/item%20page/compare%20img/agisum_before.jpg" alt="До">
            </div>
            <div class="compare__image compare__image--after">
                <img src="https://raw.githubusercontent.com/weareneture/valonti/refs/heads/main/catalog/item%20page/compare%20img/agisum_after.jpg" alt="После">
            </div>
            <div class="compare__divider" data-divider>
                <button class="compare__handle" type="button" aria-label="Потяните, чтобы сравнить"></button>
            </div>
        </div>
    </section>

</body>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const clamp = (value, min, max) => Math.min(Math.max(value, min), max);

    document.querySelectorAll('[data-compare]').forEach(wrapper => {
      const divider = wrapper.querySelector('[data-divider]');
      const afterImage = wrapper.querySelector('.compare__image--after');
      let isDragging = false;

      const setPosition = (clientX) => {
        const rect = wrapper.getBoundingClientRect();
        const percent = clamp(((clientX - rect.left) / rect.width) * 100, 0, 100);
        afterImage.style.setProperty('--position', `${percent}%`);
        divider.style.left = `${percent}%`;
      };

      const start = (event) => {
        isDragging = true;
        const clientX = event.touches ? event.touches[0].clientX : event.clientX;
        setPosition(clientX);
      };

      const move = (event) => {
        if (!isDragging) return;
        const clientX = event.touches ? event.touches[0].clientX : event.clientX;
        setPosition(clientX);
      };

      const end = () => { isDragging = false; };

      divider.addEventListener('mousedown', start);
      divider.addEventListener('touchstart', start, { passive: true });
      window.addEventListener('mousemove', move);
      window.addEventListener('touchmove', move, { passive: true });
      window.addEventListener('mouseup', end);
      window.addEventListener('touchend', end);
    });
  });
</script>
</html>